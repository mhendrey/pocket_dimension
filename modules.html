<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pocket_dimension.random_projection &mdash; Pocket Dimension 0.2.0 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="License" href="license.html" />
    <link rel="prev" title="Pocket Dimension" href="pocket_dimension.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Pocket Dimension<img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="pocket_dimension.html">Pocket Dimension</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pocket_dimension.html#the-basics">The Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="pocket_dimension.html#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="pocket_dimension.html#the-details">The Details</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">pocket_dimension.random_projection</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-pocket_dimension.vectorizer">pocket_dimension.vectorizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-tests.test_pocket_dimension">tests.test_pocket_dimension</a></li>
</ul>
<p class="caption"><span class="caption-text">Admin</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a><ul>
<li class="toctree-l2"><a class="reference internal" href="license.html#license-requirements">License Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#license-notices">License notices</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#copyright">Copyright</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Pocket Dimension</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>pocket_dimension.random_projection</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/modules.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="module-pocket_dimension.random_projection">
<span id="pocket-dimension-random-projection"></span><h1>pocket_dimension.random_projection<a class="headerlink" href="#module-pocket_dimension.random_projection" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pocket_dimension.random_projection.JustInTimeRandomProjection">
<em class="property">class </em><code class="sig-prename descclassname">pocket_dimension.random_projection.</code><code class="sig-name descname">JustInTimeRandomProjection</code><span class="sig-paren">(</span><em class="sig-param">n_components='auto'</em>, <em class="sig-param">*</em>, <em class="sig-param">eps=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pocket_dimension/random_projection.html#JustInTimeRandomProjection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.random_projection.JustInTimeRandomProjection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sklearn.random_projection.BaseRandomProjection</span></code></p>
<p>Reduce the dimensionality of sparse vectors using a dense random projection matrix
in a memory-efficient way.</p>
<p>This is an alternative to scikit-learn.random_projection.SparseRandomProjection.
This implementation provides higher quality embedding and is constant in the amount
of RAM needed, irrespective of the sparse starting dimension. It achieves this by
not storing the projection matrix in memory, but instead generates only the needed
columns just-in-time for any given input vector. This makes the same as a
SparseRandomProjection when the density = 1.0.</p>
<p>The elements of the projection matrix, <span class="math notranslate nohighlight">\(\pm 1 / \sqrt{n\_components}\)</span>, are
generated as needed using a hashing function to provide a random choice of the
sign. This uses numba functions to enable faster computation and is parallelized
across the available cpus.</p>
<p>This allows you to utilize sparse starting dimension of 2**31 - 1 without any
issues. For really values of <code class="docutils literal notranslate"><span class="pre">n_components</span></code> transforming will also be faster
than SparseRandomProjection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_components</strong> (<em>int</em><em> or </em><em>'auto'</em><em>, </em><em>default = 'auto'</em>) – <p>Dimensionality of the target projection space. If not a multiple of 64, then
it will be rounded down to the nearest multiple of 64.</p>
<p>If ‘auto’, then it will pick a dimensionality that satisfies the
Johnson-Lindenstrauss Lemma based upon the <code class="docutils literal notranslate"><span class="pre">eps</span></code> parameter. The
dimensionality will then be rounded up to the nearest multiple of 64
to ensure you satisfy the conditions in the lemma.</p>
<p><strong>NOTE</strong> This can yield a very conservative estimate of the required
dimensionality.</p>
</p></li>
<li><p><strong>eps</strong> (<em>float</em><em>, </em><em>default = 0.1</em>) – Parameter to control the quality of the embedding according to the
Johnson-Lindenstrauss Lemma. This is used if <code class="docutils literal notranslate"><span class="pre">n_components</span></code> is ‘auto’.
This represents the error rate between distances in the sparse dimension
and the resulting lower embedding dimension. Smaller values of <code class="docutils literal notranslate"><span class="pre">eps</span></code>
give larger values of <code class="docutils literal notranslate"><span class="pre">n_components</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="pocket_dimension.random_projection.JustInTimeRandomProjection.n_components_">
<code class="sig-name descname">n_components_</code><a class="headerlink" href="#pocket_dimension.random_projection.JustInTimeRandomProjection.n_components_" title="Permalink to this definition">¶</a></dt>
<dd><p>Dimensionality of the embedding dimension. It will be a multiple of 64.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">pocket_dimension.random_projection</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">JustInTimeRandomProjection</span><span class="p">,</span>
    <span class="n">random_sparse_vectors</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">n_components</span> <span class="o">=</span> <span class="mi">256</span>
<span class="n">sparse_dim</span> <span class="o">=</span> <span class="mi">1_073_741_824</span>
<span class="n">n_samples</span> <span class="o">=</span> <span class="mi">100_000</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">random_sparse_vectors</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">sparse_dim</span><span class="o">=</span><span class="n">sparse_dim</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">transformer</span> <span class="o">=</span> <span class="n">JustInTimeRandomProjection</span><span class="p">(</span><span class="n">n_components</span><span class="p">)</span>
<span class="c1"># No need to fit if provide a value for n_components at initialization</span>
<span class="n">X_new</span> <span class="o">=</span> <span class="n">transformer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="n">X_new</span><span class="o">.</span><span class="n">shape</span>
<span class="c1"># (25, 64)</span>
</pre></div>
</div>
<dl class="method">
<dt id="pocket_dimension.random_projection.JustInTimeRandomProjection.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">X</em>, <em class="sig-param">y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pocket_dimension/random_projection.html#JustInTimeRandomProjection.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.random_projection.JustInTimeRandomProjection.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>This is essential a no-op function since there is no need to generate a random
projection matrix. Instead, this is validating input data and if
<code class="docutils literal notranslate"><span class="pre">n_components</span></code> is ‘auto’, then it sets it according to the
Johnson-Lindenstrauss lemma limits based upon X.shape[1] and <code class="docutils literal notranslate"><span class="pre">eps</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>csr_matrix</em>) – Only the shape is used to find the optimal value of <code class="docutils literal notranslate"><span class="pre">n_components</span></code> to
satisfy Johnson-Lindenstrauss lemma theoretical guarantees.</p></li>
<li><p><strong>y</strong> (<em>Ignored</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – JustInTimeRandomProjection class instance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pocket_dimension.random_projection.JustInTimeRandomProjection.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param">X: scipy.sparse._csr.csr_matrix</em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="reference internal" href="_modules/pocket_dimension/random_projection.html#JustInTimeRandomProjection.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.random_projection.JustInTimeRandomProjection.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Project the data using the just-in-time generated dense random projection
matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>csr_matrix</em>) – The input data to project into a smaller dimensional space. Shape is
(n_samples, sparse_dim)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Projected data of shape (n_samples, n_components)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pocket_dimension.random_projection.distributional_johnson_lindenstrauss_optimal_delta">
<code class="sig-prename descclassname">pocket_dimension.random_projection.</code><code class="sig-name descname">distributional_johnson_lindenstrauss_optimal_delta</code><span class="sig-paren">(</span><em class="sig-param">sparse_dim: int</em>, <em class="sig-param">n_components: int</em>, <em class="sig-param">eps: float</em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="_modules/pocket_dimension/random_projection.html#distributional_johnson_lindenstrauss_optimal_delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.random_projection.distributional_johnson_lindenstrauss_optimal_delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Algorithm to find the optimal failure rate, delta, for a given <code class="docutils literal notranslate"><span class="pre">eps</span></code> (error rate),
<code class="docutils literal notranslate"><span class="pre">sparse_dim</span></code>, and <code class="docutils literal notranslate"><span class="pre">n_components</span></code> (embedding dimension) for the Distributional
Johnson-Lindenstrauss Lemma which is a different formulation of the problem.
Taken from</p>
<p>M. Skorski. <em>Johnson-Lindenstrauss Transforms with Best Confidence</em>,
Proceedings of Machine Learning Research <strong>134</strong>, 1 (2021)</p>
<p>which can be found at <a class="reference external" href="http://proceedings.mlr.press/v134/skorski21a/skorski21a.pdf">http://proceedings.mlr.press/v134/skorski21a/skorski21a.pdf</a></p>
<p>If <span class="math notranslate nohighlight">\(\mathbf{A}\)</span> is the random projection matrix, then <span class="math notranslate nohighlight">\(\delta\)</span> is the
probability of exceeding error limits given by</p>
<div class="math notranslate nohighlight">
\[\delta = \mathbb{P} \lbrack \vert \Vert \mathbf{A}x \Vert^2_2 -
\Vert x \Vert^2_2 \vert &gt; \epsilon \Vert x \Vert^2_2 {\rbrack}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sparse_dim</strong> (<em>int</em>) – Original dimension of the data</p></li>
<li><p><strong>n_components</strong> (<em>int</em>) – Embedding dimension</p></li>
<li><p><strong>eps</strong> (<em>float</em>) – Error rate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>delta</strong> – The best probability of failure that you can expect</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.random_projection.random_projection">
<code class="sig-prename descclassname">pocket_dimension.random_projection.</code><code class="sig-name descname">random_projection</code><a class="reference internal" href="_modules/pocket_dimension/random_projection.html#random_projection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.random_projection.random_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly project a sparse matrix (standard CSR representation) to a dense vectors
by effectively multiplying by a random matrix whose elements are
<span class="math notranslate nohighlight">\(\pm 1 / \sqrt{d}\)</span>. The projection matrix is never stored in memory. Instead
the elements are generated as needed using splitmix64().
<strong>Note</strong> Embedding dimension, <cite>d</cite>, is rounded to a multiple of 64 since we generate
random bits in batches of 64 in order to utilize bit manipulation to speed things
up.</p>
<p>The column indices for row i are stored in indices[indptr[i]:indptr[i+1]] and the
corresponding values are stored in data[indptr[i]:indptr[i+1]].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>nnz</em><em>,</em><em>)</em><em>, </em><em>dtype=float32</em>) – The values of the nonzero elements in the sparse csr_matrix where nnz = number
of nonzero elements</p></li>
<li><p><strong>indices</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>nnz</em><em>,</em><em>)</em><em>, </em><em>dtype=int64</em>) – The column indices of the nonzero elements in the sparse csr_matrix</p></li>
<li><p><strong>indptr</strong> (<em>np.ndarray</em><em>, </em><em>shape=</em><em>(</em><em>n_rows+1</em><em>,</em><em>)</em><em>, </em><em>dtype=int64</em>) – Pointers into <cite>data</cite> and <cite>indices</cite> to indicate where the rows start and stop.
If you have just a single record, then indtpr=[0, len(data)]</p></li>
<li><p><strong>d</strong> (<em>int</em>) – Embedding dimension of dense vectors.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>X</strong> – Dense 2-d array containing the randomly projected dense vectors for each row of
the input sparse matrix.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, shape=(n_rows, d), dtype=float32</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pocket_dimension.random_projection.random_sparse_vectors">
<code class="sig-prename descclassname">pocket_dimension.random_projection.</code><code class="sig-name descname">random_sparse_vectors</code><span class="sig-paren">(</span><em class="sig-param">n_samples: int</em>, <em class="sig-param">*</em>, <em class="sig-param">sparse_dim: int = 2147483647</em>, <em class="sig-param">min_n_features: int = 20</em>, <em class="sig-param">max_n_features: int = 100</em>, <em class="sig-param">normalize: bool = False</em>, <em class="sig-param">rng: numpy.random._generator.Generator = None</em><span class="sig-paren">)</span> &#x2192; scipy.sparse._csr.csr_matrix<a class="reference internal" href="_modules/pocket_dimension/random_projection.html#random_sparse_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.random_projection.random_sparse_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly generate sparse vectors for testing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_samples</strong> (<em>int</em>) – Number of sparse vectors to create</p></li>
<li><p><strong>sparse_dim</strong> (<em>int</em><em>, </em><em>default = 2**31 - 1</em>) – Dimensionality of the sparse vectors.</p></li>
<li><p><strong>min_n_features</strong> (<em>int</em><em>, </em><em>default = 10</em>) – Minimum number of features any given sparse vector may have</p></li>
<li><p><strong>max_n_features</strong> (<em>int</em><em>, </em><em>default = 100</em>) – Maximum number of features any given sparse vector may have</p></li>
<li><p><strong>normalize</strong> (<em>bool</em><em>, </em><em>default = False</em>) – If true, normalizes the sparse vectors to all have unit length.</p></li>
<li><p><strong>rng</strong> (<em>np.random.Generator</em><em>, </em><em>default = None</em>) – A numpy random generator. If None, then one is created</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Shape is (n_samples, sparse_dim)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>csr_matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.random_projection.splitmix64">
<code class="sig-prename descclassname">pocket_dimension.random_projection.</code><code class="sig-name descname">splitmix64</code><a class="reference internal" href="_modules/pocket_dimension/random_projection.html#splitmix64"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.random_projection.splitmix64" title="Permalink to this definition">¶</a></dt>
<dd><p>Fast, simple function for taking an integer and returning a random number. Function
used in Java random number generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>index</strong> (<em>uint64</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>uint64</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pocket_dimension.vectorizer">
<span id="pocket-dimension-vectorizer"></span><h1>pocket_dimension.vectorizer<a class="headerlink" href="#module-pocket_dimension.vectorizer" title="Permalink to this headline">¶</a></h1>
<p>Pocket Dimension provides a memory-efficient, dense, random projection of sparse vectors
and then applies this to Term Frequency (TF) and Term Frequency, Inverse Document
Frequency (TFIDF) data.</p>
<p>Copyright (C) 2022 Matthew Hendrey &amp; Brendan Murphy</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>&gt;.</p>
<dl class="class">
<dt id="pocket_dimension.vectorizer.TFIDFVectorizer">
<em class="property">class </em><code class="sig-prename descclassname">pocket_dimension.vectorizer.</code><code class="sig-name descname">TFIDFVectorizer</code><span class="sig-paren">(</span><em class="sig-param">d: int, cms_file: Union[str, pathlib.Path], *, hash_dim: int = 2147483647, minDF: int = 1, maxDF: int = 4294967295, temperature: float = 1.0, filter: str = None, filter_out: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pocket_dimension/vectorizer.html#TFIDFVectorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.vectorizer.TFIDFVectorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pocket_dimension.vectorizer.TFVectorizer" title="pocket_dimension.vectorizer.TFVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pocket_dimension.vectorizer.TFVectorizer</span></code></a></p>
<p>Randomly project records by first applying a high-dimensional feature hasher
to create a sparse vector representation of the tf-idf and then applying the
random projection to a dense embedding dimension.</p>
<div class="math notranslate nohighlight">
\[tfidf = c^{1/temp} \log{10}(n\_records / (doc\_freq + 1))\]</div>
</dd></dl>

<dl class="class">
<dt id="pocket_dimension.vectorizer.TFVectorizer">
<em class="property">class </em><code class="sig-prename descclassname">pocket_dimension.vectorizer.</code><code class="sig-name descname">TFVectorizer</code><span class="sig-paren">(</span><em class="sig-param">d: int</em>, <em class="sig-param">*</em>, <em class="sig-param">cms_file: Union[str</em>, <em class="sig-param">pathlib.Path] = None</em>, <em class="sig-param">hash_dim: int = 2147483647</em>, <em class="sig-param">minDF: int = 1</em>, <em class="sig-param">maxDF: int = 4294967295</em>, <em class="sig-param">temperature: float = 1.0</em>, <em class="sig-param">filter: str = None</em>, <em class="sig-param">filter_out: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pocket_dimension/vectorizer.html#TFVectorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Calculate a Term-Frequency vector representation by first using sklearn’s
FeatureHasher to create a high-dimensional, sparse vector representation.
Then apply the JustInTimeRandomProjection to return a lower-dimensional
dense vector representation. The resulting vectors will be normalized to unit
length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> (<em>int</em>) – Dimension of the dense vector output. Rounded down to nearest multiple of 64 if
not already</p></li>
<li><p><strong>cms_file</strong> (<em>str | Path</em><em>, </em><em>optional</em>) – Filename of a saved count-min sketch to use for filtering out features
whose document frequency falls outside of [minDF, maxDF]. Default is None</p></li>
<li><p><strong>hash_dim</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of dimensions that features get hashed to for the sparse vector
representation. Should have <cite>hash_dim &gt;&gt; d</cite>. Default is the largest
possible 2**31 - 1 (~2 billion) for sklearn’s FeatureHasher</p></li>
<li><p><strong>minDF</strong> (<em>int</em><em>, </em><em>optional</em>) – Minimum document frequency (number of records with this feature) a feature
must have to be included in the embedding. Default is 1</p></li>
<li><p><strong>maxDF</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum document frequency (number of records with this feature) a feature
can have to be included in the embedding. Default is 2**32 - 1.</p></li>
<li><p><strong>temperature</strong> (<em>float</em><em>, </em><em>optional</em>) – Option to reshape the term frequency vector by raising each count to
(1/temperature). Using a value above 1.0 flattens the values relative to
each other. Using a value below 1.0 sharpens the contrast of values
relative to each other.</p></li>
<li><p><strong>filter</strong> (<em>pybloomfilter3</em><em>, </em><em>option</em>) – Bloom filter to use for filtering features before creating sparse vectors.
Default is None</p></li>
<li><p><strong>filter_out</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, then remove features that are in the filter before making the
sparse vector. If False, then only use features that are in the filter in
the sparse vector. Not used if <cite>filter</cite> is None. Default is True.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="pocket_dimension.vectorizer.TFVectorizer.d">
<code class="sig-name descname">d</code><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.d" title="Permalink to this definition">¶</a></dt>
<dd><p>Embedding dimension of the dense vector. Must be multiple of 64</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.vectorizer.TFVectorizer.hash_dim">
<code class="sig-name descname">hash_dim</code><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.hash_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Dimension of the sparse vector. Must be &lt;= 2**31-1</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.vectorizer.TFVectorizer.hasher">
<code class="sig-name descname">hasher</code><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.hasher" title="Permalink to this definition">¶</a></dt>
<dd><p>Hashes input features (bytes) to integer representing corresponding dimension</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>sklearn.feature_extraction.FeatureHasher</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.vectorizer.TFVectorizer.jit_rp">
<code class="sig-name descname">jit_rp</code><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.jit_rp" title="Permalink to this definition">¶</a></dt>
<dd><p>Efficiently projects high-dimensional sparse vectors down to lower dimensional
dense vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pocket_dimension.random_projection.JustInTimeRandomProjection" title="pocket_dimension.random_projection.JustInTimeRandomProjection">JustInTimeRandomProjection</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.vectorizer.TFVectorizer.temperature">
<code class="sig-name descname">temperature</code><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponential scale raw counts by 1 / temperature when making TF vector</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.vectorizer.TFVectorizer.cms">
<code class="sig-name descname">cms</code><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.cms" title="Permalink to this definition">¶</a></dt>
<dd><p>A count-min sketch that stores document frequency info</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>sketchnu.CountMinLinear | sketchnu.CountMinLog16 | sketchnu.CountMinLog8</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.vectorizer.TFVectorizer.minDF">
<code class="sig-name descname">minDF</code><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.minDF" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum document frequency a feature must have to be incuded in the vector</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.vectorizer.TFVectorizer.maxDF">
<code class="sig-name descname">maxDF</code><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.maxDF" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum document frequency a feature can have to be included in the vector</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.vectorizer.TFVectorizer.filter">
<code class="sig-name descname">filter</code><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>BloomFilter containing features to be filtered</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pybloomfilter.BloomFilter</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.vectorizer.TFVectorizer.filter_out">
<code class="sig-name descname">filter_out</code><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.filter_out" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, then any feature found in the <cite>filter</cite> will be excluded from the
vector. If False, then only features found in the <cite>filter</cite> are included in
vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pocket_dimension.vectorizer.TFVectorizer.yield_features_counts">
<code class="sig-name descname">yield_features_counts</code><span class="sig-paren">(</span><em class="sig-param">features: List[bytes], counts: List[int]</em><span class="sig-paren">)</span> &#x2192; Tuple[bytes, float]<a class="reference internal" href="_modules/pocket_dimension/vectorizer.html#TFVectorizer.yield_features_counts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.yield_features_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield the individual feature and count where the count is scaled by raising it
to <span class="math notranslate nohighlight">\(1/temperature\)</span> and then multiplied by the idf value. For TFVectorizer
the idf = 1.0.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">minDF`</span> <span class="pre">and</span> <span class="pre">``maxDF</span></code> or a <code class="docutils literal notranslate"><span class="pre">filter</span></code> is provided, then the individual
features will be filtered appropriately. Only those that pass the filters will
contribute to the final vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>features</strong> (<em>List</em><em>[</em><em>bytes</em><em>]</em>) – List of the individual features. These will be hashed by the FeatureHasher
to turn into a sparse vector representation</p></li>
<li><p><strong>counts</strong> (<em>List</em><em>[</em><em>int</em><em>]</em>) – Number of times that feature is present in a given record.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>Tuple[bytes, float]</em></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pocket_dimension.vectorizer.TFVectorizer.yield_record">
<code class="sig-name descname">yield_record</code><span class="sig-paren">(</span><em class="sig-param">records: Iterable[Dict], ids: List</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pocket_dimension/vectorizer.html#TFVectorizer.yield_record"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.vectorizer.TFVectorizer.yield_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields a generator of an individual record’s features/counts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>records</strong> (<em>Iterable</em><em>[</em><em>Dict</em><em>]</em>) – An iterable of records where each records is a dict of
{“id”: str, “features”: List[bytes], “counts”: List[int]}</p></li>
<li><p><strong>ids</strong> (<em>List</em>) – Pass in an empty list which will be returned with corresponding ids from
the <cite>records</cite> passed in</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>Generator</em> – Of the appropriate individual (features,counts) for a given record</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="pocket_dimension.vectorizer.numba_idf">
<code class="sig-prename descclassname">pocket_dimension.vectorizer.</code><code class="sig-name descname">numba_idf</code><a class="reference internal" href="_modules/pocket_dimension/vectorizer.html#numba_idf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pocket_dimension.vectorizer.numba_idf" title="Permalink to this definition">¶</a></dt>
<dd><p>Numba function to calculate the idf value for a <code class="docutils literal notranslate"><span class="pre">doc_freq</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>doc_freq</strong> (<em>float32</em>) – Number of records that contain this particular feature.</p></li>
<li><p><strong>n_records</strong> (<em>float32</em>) – Total number of records in the data set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float32</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-tests.test_pocket_dimension">
<span id="tests-test-pocket-dimension"></span><h1>tests.test_pocket_dimension<a class="headerlink" href="#module-tests.test_pocket_dimension" title="Permalink to this headline">¶</a></h1>
<p>Pocket Dimension provides a memory-efficient, dense, random projection of sparse vectors
and then applies this to Term Frequency (TF) and Term Frequency, Inverse Document
Frequency (TFIDF) data.</p>
<p>Copyright (C) 2022 Matthew Hendrey &amp; Brendan Murphy</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>&gt;.</p>
<dl class="function">
<dt id="tests.test_pocket_dimension.sparse_distance_squared">
<code class="sig-prename descclassname">tests.test_pocket_dimension.</code><code class="sig-name descname">sparse_distance_squared</code><span class="sig-paren">(</span><em class="sig-param">S1: scipy.sparse._csr.csr_matrix</em>, <em class="sig-param">S2: scipy.sparse._csr.csr_matrix</em><span class="sig-paren">)</span> &#x2192; float<a class="reference internal" href="_modules/tests/test_pocket_dimension.html#sparse_distance_squared"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tests.test_pocket_dimension.sparse_distance_squared" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the distance between two sparse vectors</p>
</dd></dl>

<dl class="function">
<dt id="tests.test_pocket_dimension.test_distributional_johnson_lindenstrauss">
<code class="sig-prename descclassname">tests.test_pocket_dimension.</code><code class="sig-name descname">test_distributional_johnson_lindenstrauss</code><span class="sig-paren">(</span><em class="sig-param">n: int = 1000</em>, <em class="sig-param">min_n_features: int = 5</em>, <em class="sig-param">max_n_features: int = 100</em>, <em class="sig-param">eps: float = 0.1</em>, <em class="sig-param">delta_pad: float = 0.005</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tests/test_pocket_dimension.html#test_distributional_johnson_lindenstrauss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tests.test_pocket_dimension.test_distributional_johnson_lindenstrauss" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the statistical guarantees of the Distributional Johnson-Lindenstrauss Lemma
using a method for finding the best possible delta (failure rate) for a given
epsilon (error rate) of the difference of the L2 norm between vectors in the
original dimension (x) and the lower embedding dimension (Ax) described in</p>
<p>M. Skorski. <em>Johnson-Lindenstrauss Transforms with Best Confidence</em>,
Proceedings of Machine Learning Research <strong>134</strong>, 1 (2021)
<a class="reference external" href="http://proceedings.mlr.press/v134/skorski21a/skorski21a.pdf">http://proceedings.mlr.press/v134/skorski21a/skorski21a.pdf</a></p>
<p>This paper provides the optimal possible error probability</p>
<dl class="simple">
<dt>delta(sparse_dim, embed_dim, eps) =</dt><dd><p>P[abs(|Ax|**2 - |x|**2) &gt; eps * |x|**2]</p>
</dd>
</dl>
<p>given the best possible matrix A and the worst possible data x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of data points. Default is 1,000</p></li>
<li><p><strong>min_n_features</strong> (<em>int</em><em>, </em><em>optional</em>) – Minimum number of features any given vector may have. Default is 5</p></li>
<li><p><strong>max_n_features</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of features any given vector may have. Default is 100</p></li>
<li><p><strong>eps</strong> (<em>float</em><em>, </em><em>optional</em>) – Error rate. Default is 0.1</p></li>
<li><p><strong>delta_pad</strong> (<em>float</em><em>, </em><em>optional</em>) – Amount by which we pad the calculated best delta value. This is done to reduce
the probability of failure given the vagaries of running statistical tests.
Default is 0.005</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tests.test_pocket_dimension.test_johnson_lindenstrauss">
<code class="sig-prename descclassname">tests.test_pocket_dimension.</code><code class="sig-name descname">test_johnson_lindenstrauss</code><span class="sig-paren">(</span><em class="sig-param">n: int = 40</em>, <em class="sig-param">min_n_features: int = 5</em>, <em class="sig-param">max_n_features: int = 100</em>, <em class="sig-param">eps: float = 0.05</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tests/test_pocket_dimension.html#test_johnson_lindenstrauss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tests.test_pocket_dimension.test_johnson_lindenstrauss" title="Permalink to this definition">¶</a></dt>
<dd><p>Test the the Johnson-Lindenstrauss Lemma holds between the sparse vectors and the
randomly projected dense vectors. This uses the results found in</p>
<p><a class="reference external" href="https://cs.stanford.edu/people/mmahoney/cs369m/Lectures/lecture1.pdf">https://cs.stanford.edu/people/mmahoney/cs369m/Lectures/lecture1.pdf</a></p>
<p>This checkes that the ratio of the distance between two vectors in the embedding
to the distance between the original sparse vectors is between (1-eps) and (1+eps).
The embedding dimension is determined by the requested error rate, eps.</p>
<p>d = 24 * log(n) / (3 * eps**2 - 2 * eps ** 3)</p>
<p>where n is the number of vectors.  This does the full n(n-1)/2 comparisions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of sparse vectors to randomly generate. Default is 40</p></li>
<li><p><strong>min_n_features</strong> (<em>int</em><em>, </em><em>optional</em>) – Minimum number of features any given sparse vector may have. Default is 5</p></li>
<li><p><strong>max_n_features</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of features any given sparse vector may have. Default is 100</p></li>
<li><p><strong>eps</strong> (<em>float</em><em>, </em><em>optional</em>) – Desired error rate. Default is 0.05</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tests.test_pocket_dimension.test_numba_idf">
<code class="sig-prename descclassname">tests.test_pocket_dimension.</code><code class="sig-name descname">test_numba_idf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tests/test_pocket_dimension.html#test_numba_idf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tests.test_pocket_dimension.test_numba_idf" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that the numba function numba_idf works as expected</p>
</dd></dl>

<dl class="function">
<dt id="tests.test_pocket_dimension.test_tf">
<code class="sig-prename descclassname">tests.test_pocket_dimension.</code><code class="sig-name descname">test_tf</code><span class="sig-paren">(</span><em class="sig-param">d: int = 64</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tests/test_pocket_dimension.html#test_tf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tests.test_pocket_dimension.test_tf" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic test that things look right.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>int</em><em>, </em><em>optional</em>) – Embedding dimension. Default is 64</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tests.test_pocket_dimension.test_tf_cms">
<code class="sig-prename descclassname">tests.test_pocket_dimension.</code><code class="sig-name descname">test_tf_cms</code><span class="sig-paren">(</span><em class="sig-param">tmp_path</em>, <em class="sig-param">d: int = 64</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tests/test_pocket_dimension.html#test_tf_cms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tests.test_pocket_dimension.test_tf_cms" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that using a count-min sketch for filtering works properly</p>
</dd></dl>

<dl class="function">
<dt id="tests.test_pocket_dimension.test_tf_filter">
<code class="sig-prename descclassname">tests.test_pocket_dimension.</code><code class="sig-name descname">test_tf_filter</code><span class="sig-paren">(</span><em class="sig-param">tmp_path</em>, <em class="sig-param">d: int = 64</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tests/test_pocket_dimension.html#test_tf_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tests.test_pocket_dimension.test_tf_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Testing the bloom filter &amp; filter_out parameters for the TFVectorizer</p>
</dd></dl>

<dl class="function">
<dt id="tests.test_pocket_dimension.test_tf_temp">
<code class="sig-prename descclassname">tests.test_pocket_dimension.</code><code class="sig-name descname">test_tf_temp</code><span class="sig-paren">(</span><em class="sig-param">d: int = 64</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tests/test_pocket_dimension.html#test_tf_temp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tests.test_pocket_dimension.test_tf_temp" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that changing the temperature used during embedding changes the cosine in an
expected way</p>
</dd></dl>

<dl class="function">
<dt id="tests.test_pocket_dimension.test_tfidf">
<code class="sig-prename descclassname">tests.test_pocket_dimension.</code><code class="sig-name descname">test_tfidf</code><span class="sig-paren">(</span><em class="sig-param">tmp_path</em>, <em class="sig-param">d: int = 64</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tests/test_pocket_dimension.html#test_tfidf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tests.test_pocket_dimension.test_tfidf" title="Permalink to this definition">¶</a></dt>
<dd><p>Test that a tfidf vectorization causes one feature’s tfidf to be zero and match
a vector that does not have this feature</p>
</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pocket_dimension.html" class="btn btn-neutral float-left" title="Pocket Dimension" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="license.html" class="btn btn-neutral float-right" title="License" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Matthew Hendrey and Brendan Murphy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>